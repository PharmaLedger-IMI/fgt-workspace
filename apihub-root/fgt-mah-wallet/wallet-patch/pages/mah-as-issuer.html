<psk-page title="Create Credentials for new users">

    <psk-form controller-name="IssuerController">
        <psk-layout row-gap="1em">
            <psk-input value="@userIdentity" label="@title"></psk-input>

            <psk-condition condition="@displayCredential">
                <psk-form-row slot="condition-true">
                    <psk-layout template-columns="auto 50px" align-items="stretch">
                        <psk-textarea value="@credential" label="Copy/paste in holder page of the user." disabled="disabled"></psk-textarea>
                        <psk-layout-item align="end">
                            <psk-button button-class="btn btn-success" event-name="copy-text" event-data="@credential">
                                <psk-icon icon="copy" color="rgb(255, 255, 255)"></psk-icon>
                            </psk-button>
                        </psk-layout-item>
                    </psk-layout>
                </psk-form-row>
                <div slot="condition-false">
                    <p>Go in the holder page of the user and generate an identifier for you as user.</p>
                </div>
            </psk-condition>

            <psk-form-row>
                <psk-button label="Generate Credential" event-name="generate-credential"></psk-button>
            </psk-form-row>

            <psk-form-row>

            </psk-form-row>

            <psk-form-row>

            </psk-form-row>

            <psk-form-row>

            </psk-form-row>

            <psk-form-row>

            </psk-form-row>

            <psk-form-row>
                <p>
                    Before you try to issue a credential please ensure that you added the issuer identifier (public key) to the server.<br>
                    Typically, the path to the file keeping the public keys of all valid issuers is located here: "external-volume/config/issuers-public-identities"
                </p>
                <psk-layout template-columns="auto 50px" align-items="stretch">
                    <psk-input value="@issuerPublicIdentity" read-only="true"></psk-input>
                    <psk-layout-item align="end">
                        <psk-button button-class="btn btn-success" event-name="copy-text" event-data="@issuerPublicIdentity">
                            <psk-icon icon="copy" color="rgb(255, 255, 255)"></psk-icon>
                        </psk-button>
                    </psk-layout-item>
                </psk-layout>
            </psk-form-row>
        </psk-layout>
        <psk-list-feedbacks></psk-list-feedbacks>

    </psk-form>

</psk-page>