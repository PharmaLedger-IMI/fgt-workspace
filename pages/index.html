<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>UC3 Finished Goods Traceability fgt-workspace</h1>
<p><a href="https://travis-ci.org/%7BORG-or-USERNAME%7D/%7BREPO-NAME%7D"><img src="https://travis-ci.org/%7BORG-or-USERNAME%7D/%7BREPO-NAME%7D.png?branch=master" alt="Build Status"></a>
<a href="https://github.com/dwyl/goodparts" title="JavaScript The Good Parts"><img src="https://img.shields.io/badge/code%20style-goodparts-brightgreen.svg?style=flat" alt="JavaScript Style Guide: Good Parts"></a>
<a href="https://snyk.io/test/github/dwyl/hapi-auth-jwt2?targetFile=package.json"><img src="https://snyk.io/test/github/dwyl/hapi-auth-jwt2/badge.svg?targetFile=package.json" alt="Known Vulnerabilities"></a></p>
<p><em>fgt-workspace</em>  bundles all the necessary dependencies for building and running Finished Goods Traceability SSApps in a single package.</p>
<p>( This workspace was originally forked from the https://github.com/PharmaLedger-IMI/epi-workspace )</p>
<h3>Licence</h3>
<p>MIT License</p>
<p>Copyright (c) 2021 PharmaLedger Consortium</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<h3>Running</h3>
<p>To run the application launch your browser (preferably Chrome) in Incognito mode and access the http://localhost:8080 link.</p>
<p>You will be present with a menu from where you can choose the SSApp you with to launch</p>
<h1>Modules (Should Be Repos!)</h1>
<p><strong>TODO:</strong></p>
<pre class="prettyprint source"><code>split DSU Wizard into:
- PDM-DSU-Toolkit: (logic usable to any OepnDSU project, not just PDM's use cases or even Pharmaledger)
- FGT-DSU-Wizard: Inherits the toolkit and 
</code></pre>
<p><a href="fgt-dsu-wizard/index.html">FGT DSU Wizard</a></p>
<p><a href="fgt-mah-ssapp/index.html">MAH Enterprise Wallet</a></p>
<p><a href="fgt-Wholesaler-ssapp/index.html">Wholesaler Enterprise Wllet</a></p>
<p><a href="fgt-mah-ssapp/index.html">MAH Enterprise Wallet</a></p>
<p><a href="fgt-mah-ssapp/index.html">MAH Pharmacy Wallet</a></p>
<h3>Architecture</h3>
<h3>DSU Types</h3>
<p><a href="resources/finishedGoodsTraceabilityDSUTypes.png">Current</a></p>
<p><a href="resources/finishedGoodsTraceabilityDSUTypes.png">Proposal</a></p>
<h3>Installation</h3>
<p>In order to use the workspace, we need to follow a list of steps presented below.</p>
<p><a href="http://nodejs.org/download/"><img src="https://img.shields.io/node/v/%5Bfgt-workspace%5D.svg?style=flat" alt="Node version"></a></p>
<h4>Step 1: Clone the workspace</h4>
<pre class="prettyprint source lang-sh"><code>$ git clone https://github.com/PharmaLedger-IMI/fgt-workspace.git
</code></pre>
<p>After the repository was cloned, you must install all the dependencies.</p>
<p>For the latest versions do:</p>
<pre class="prettyprint source lang-sh"><code>$ cd fgt-workspace
#Important: If you plan to contribute to the project and/or dependecies please set DEV:true
#in the file env.json before you run the installation!
$ npm run dev-install
</code></pre>
<p>For latest 'stable' version do:</p>
<pre class="prettyprint source lang-sh"><code>$ npm run install
</code></pre>
<p>instead.</p>
<p><strong>Note:</strong> this command might take quite some time depending on your internet connection and you machine processing power.</p>
<h4>Step 2: Launch the &quot;server&quot;</h4>
<p>While in the <em>fgt-workspace</em> folder run:</p>
<pre class="prettyprint source lang-sh"><code>$ npm run server
</code></pre>
<p>At the end of this command you get something similar to:</p>
<p><img src="resources/scr-npm-run-server.png" alt="alt text"></p>
<h4>Step 3: Build all DSUs and anchor them to the 'blockchain'.</h4>
<p>Open a new console inside <em>fgt-workspace</em> folder and run:</p>
<pre class="prettyprint source lang-sh"><code># Note: Run this in a new console inside &quot;fgt-workspace&quot; folder
$ npm run build-all
</code></pre>
<h3>Documentation</h3>
<p>To be able to generate the documentation for this project via</p>
<pre class="prettyprint source lang-sh"><code>$ npm run docs
</code></pre>
<p><a href="https://github.com/jgraph/drawio-desktop/releases">draw.io</a> must be installed. Can be also obtained via</p>
<pre class="prettyprint source lang-sh"><code>$ snap install drawio
</code></pre>
<p>in linux</p>
<p>after instalation if not present, add drawio to path</p>
<pre class="prettyprint source lang-shell"><code>$ which drawio
</code></pre>
<p>add a file under <code>docs/bin</code> called <code>drawio_exec_command.os</code> containing the command/path to execute drawio</p>
<ul>
<li>Linux:
<code>echo &quot;drawio&quot;</code></li>
<li>Windows:
<code>echo &quot;${PATH_TO_DRAW_IO}\drawio.exe&quot;</code></li>
</ul>
<h3>Build Mobile</h3>
<p>Currently Not Supported</p>
<h4>Build Android APK</h4>
<p>TODO Not working...</p>
<p>Steps</p>
<ol>
<li>Install all dependencies (as develoment) for this workspace</li>
</ol>
<pre class="prettyprint source lang-sh"><code>npm run dev-install
</code></pre>
<ol start="2">
<li>Bind Android repository into workspace</li>
</ol>
<pre class="prettyprint source lang-sh"><code>npm run install-mobile
</code></pre>
<ol start="3">
<li>Launch API HUB</li>
</ol>
<pre class="prettyprint source lang-sh"><code>npm run server
</code></pre>
<ol start="4">
<li>Prepare the Node files that will be packed into the Android app</li>
</ol>
<pre class="prettyprint source lang-sh"><code>#In another tab / console
npm build-mobile
</code></pre>
<ol start="5">
<li>Have /mobile/scan-app/android/local.properties file with the following content</li>
</ol>
<pre class="prettyprint source lang-sh"><code># Change the value to your SDK path
sdk.dir=/home/alex/Android/Sdk
</code></pre>
<p>More on this <a href="https://github.com/PrivateSky/android-edge-agent#iv-setup-local-environment-values">here</a></p>
<ol start="6">
<li>Build the APK</li>
</ol>
<pre class="prettyprint source lang-sh"><code>npm build-android-apk
</code></pre>
<p>This concludes the steps to build the APK file.</p>
<p><strong>Note:</strong> The .apk file should be in folder</p>
<pre class="prettyprint source"><code>mobile/scan-app/android/app/build/outputs/apk/release
</code></pre>
<h3>Build iOS App</h3>
<p>Currently not supported</p>
<h3>Workspace Description</h3>
<h4>pre-install (before running npm install)</h4>
<ul>
<li>apihub-root: Folder containing the root of what is served by the server
<ul>
<li>external-volume: configs directory;</li>
<li>internal-volume: volume folder (brick storage). contains the several configured domains</li>
<li>wallet patch folders: the folders contain, in the wallet-patch folder and for each case, the custom 'behaviour' that is added to the template folder:
<ul>
<li>fgt-mah-wallet/wallet-patch;</li>
<li>fgt-pharmacy-wallet/wallet-patch;</li>
<li>fgt-wholesaler-wallet/wallet-patch;</li>
</ul>
</li>
</ul>
</li>
<li>fgt-dsu-wizard: based on gtin-dsu-wizard</li>
<li>fgt-mah-wallet</li>
<li>fgt-pharmacy-wallet</li>
<li>fgt-wholesaler-wallet
<ul>
<li>Wallets for each one of the actors</li>
</ul>
</li>
<li>trust-loader-config: custom config to override the wallet loader default ones for each case:
<ul>
<li>fgt-mah-fabric-wallet/loader;</li>
<li>fgt-pharmacy-fabric-wallet/loader;</li>
<li>fgt-wholesaler-fabric-wallet/loader;</li>
</ul>
</li>
</ul>
<h4>post install (after running npm install)</h4>
<ul>
<li>General use:
<ul>
<li>cardinal: the web framework used for frontend;</li>
<li>pharmaledger-wallet: the default wallet implementation to be used by all ssapps - comes from http://github.com/privatesky/menu-wallet-prototype.git</li>
<li>node_modules: node modules folder (includes the octopus custom builder)</li>
<li>privatesky: the openDSU code. notable folders are:
<ul>
<li>privatesky/modules: all the code for the several modules (openDSU is one of them);</li>
<li>privatesky/psknode/bundles: all the code from the previous path, with each module bundled into a single file;</li>
</ul>
</li>
<li>themes: the folder with all the installed themes:
<ul>
<li>pharmaledger-theme: custom theme for the pharmaledger implementation comes from https://github.com/PrivateSky/blue-fluorite-theme;</li>
</ul>
</li>
</ul>
</li>
<li>Use case related:
<ul>
<li>Apihub-root: Folder changes:
<ul>
<li>wallet loaders: clones the loader into each of the wallets:
<ul>
<li>fgt-mah-wallet/loader;</li>
<li>fgt-pharmacy-wallet/loader;</li>
<li>fgt-wholesaler wallet/loader;</li>
</ul>
</li>
</ul>
</li>
<li>fgt-mah-ssapp: The application for the Mah;</li>
<li>fgt-pharmacy-ssapp: The application for the pharmacy;</li>
<li>fgt-wholesaler-ssapp: The application for the wholesaler;</li>
<li>gtin-dsu-wizard: the ssapp the creates GTIN based DSUs. <em>Cloned from epi</em>;</li>
<li>gtin-resolver: the 'library' to resolve gtin+batchs to dsus. <em>Cloned from epi</em>;</li>
</ul>
</li>
</ul></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Mon Mar 15 2021 02:24:26 GMT+0000 (GMT) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>