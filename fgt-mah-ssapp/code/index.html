<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Leaflet Manager App</title>
    PLACEHOLDER_THAT_WILL_BE_REPLACED_BY_SW_OR_SERVER_WITH_BASE_TAG
    <link href="resources/css/main.css" rel="stylesheet" type="text/css">
    <link href="resources/css/custom.css" rel="stylesheet" type="text/css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body>
<psk-app-root>
    <div class="global_container">
        <aside>
            <psk-app-menu item-renderer="sidebar-renderer">
                <psk-container controller-name="UserProfileController" slot="before">
                    <psk-user-profile user-info="@userDetails" profile-renderer="@renderer"></psk-user-profile>
                </psk-container>
            </psk-app-menu>
        </aside>
        <section>
            <psk-app-router></psk-app-router>
        </section>
    </div>
</psk-app-root>

<script src="scripts/bundles/iframeBoot.js"></script>
<script src="scripts/bundles/webshims.js"></script>
<script src="scripts/bundles/pskruntime.js"></script>

<script type="module" src="cardinal/cardinal.esm.js"></script>
<script>

    if (window.frameElement){
        const iframeIdentity = window.frameElement.getAttribute('identity');
        if (iframeIdentity) {
            window.parent.document.dispatchEvent(new CustomEvent(iframeIdentity, {
                detail: {
                    status: 'completed'
                }
            }));
        }
    }
</script>

</body>

</html>