<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PDM&FC's OpenDSU Toolkit Documentation dt</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">PDM&FC's OpenDSU Toolkit Documentation</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                 
                    
                        <a
                            class="link user-link "
                            href="https://github.com/PharmaLedger-IMI/epi-workspace/pdm-dsu-toolkit.git"
                        >
                            Github
                        </a>
                    
                        <a
                            class="link user-link "
                            href="https://fgt.pharmaledger.pdmfc.com"
                        >
                            Example Application - Finished Goods Traceability
                        </a>
                    
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Modules</h3><ul><li><a href="module-pdm-dsu-toolkit.html">pdm-dsu-toolkit</a></li></ul><h3>Namespaces</h3><ul><li><a href="Commands.html">Commands</a></li><li><a href="Commands.Registry.html">Registry</a></li><li><a href="Commands.utils.html">utils</a></li><li><a href="Constants.html">Constants</a></li><li><a href="dt.Commands.html">Commands</a></li><li><a href="Managers.html">Managers</a></li><li><a href="Model.html">Model</a></li><li><a href="Model.Utils.html">Utils</a></li><li><a href="Model.Validations.html">Validations</a></li><li><a href="module-pdm-dsu-toolkit-Server.html">Server</a></li><li><a href="Resolvers.html">Resolvers</a></li><li><a href="Services.html">Services</a></li><li><a href="Services.dt.html">dt</a></li><li><a href="Services.Locale.html">Locale</a></li><li><a href="Services.Utils.html">Utils</a></li></ul><h3>Classes</h3><ul><li><a href="BaseManager.html">BaseManager</a></li><li><a href="Commands.AddFileCommand.html">AddFileCommand</a></li><li><a href="Commands.AddFolderCommand.html">AddFolderCommand</a></li><li><a href="Commands.Command.html">Command</a></li><li><a href="Commands.CreateDSUCommand.html">CreateDSUCommand</a></li><li><a href="Commands.CreateFileCommand.html">CreateFileCommand</a></li><li><a href="Commands.DefineCommand.html">DefineCommand</a></li><li><a href="Commands.DeleteCommand.html">DeleteCommand</a></li><li><a href="Commands.DeriveCommand.html">DeriveCommand</a></li><li><a href="Commands.EndWithCommand.html">EndWithCommand</a></li><li><a href="Commands.GenDBCommand.html">GenDBCommand</a></li><li><a href="Commands.GenKeyCommand.html">GenKeyCommand</a></li><li><a href="Commands.GetIdentifierCommand.html">GetIdentifierCommand</a></li><li><a href="Commands.MountCommand.html">MountCommand</a></li><li><a href="Commands.ObjToArrayCommand.html">ObjToArrayCommand</a></li><li><a href="Commands.ReadFileCommand.html">ReadFileCommand</a></li><li><a href="Commands.VarStore.html">VarStore</a></li><li><a href="Commands.WithCommand.html">WithCommand</a></li><li><a href="dt.AppBuilderService.html">AppBuilderService</a></li><li><a href="dt.DossierBuilder.html">DossierBuilder</a></li><li><a href="EmailValidator.html">EmailValidator</a></li><li><a href="Manager.html">Manager</a></li><li><a href="Managers.BaseManager.html">BaseManager</a></li><li><a href="Managers.Manager.html">Manager</a></li><li><a href="Managers.MessageManager.html">MessageManager</a></li><li><a href="Managers.Page.html">Page</a></li><li><a href="MessageManager.Message.html">Message</a></li><li><a href="PatternValidator.html">PatternValidator</a></li><li><a href="Resolver.html">Resolver</a></li><li><a href="Resolvers.Resolver.html">Resolver</a></li><li><a href="Services.DSUService.html">DSUService</a></li><li><a href="TinValidator.html">TinValidator</a></li><li><a href="Validations.EmailValidator.html">EmailValidator</a></li><li><a href="Validations.PatternValidator.html">PatternValidator</a></li><li><a href="Validations.TinValidator.html">TinValidator</a></li><li><a href="Validations.Validator.html">Validator</a></li><li><a href="Validations.ValidatorRegistry.html">ValidatorRegistry</a></li><li><a href="Validator.html">Validator</a></li></ul><h3>Interfaces</h3><ul><li><a href="Validations.Validatable.html">Validatable</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_loadLocale">_loadLocale</a></li><li><a href="global.html#buildDossier">buildDossier</a></li><li><a href="global.html#buildSSApp">buildSSApp</a></li><li><a href="global.html#buildWallet">buildWallet</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#getByPage">getByPage</a></li><li><a href="global.html#getFile">getFile</a></li><li><a href="global.html#getFolderContentAsJSON">getFolderContentAsJSON</a></li><li><a href="global.html#getInfo">getInfo</a></li><li><a href="global.html#resolver">resolver</a></li><li><a href="global.html#WebComponentService">WebComponentService</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Namespace</p>
                    <h1>dt</h1>
                </header>
                




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="Services.html">Services</a>.</span>dt</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Provides a Environment Independent and Versatile Dossier Building API.</p>
<p>Meant to be integrated into OpenDSU.</p>
<p>The need to produce DSUs with complicated relations between them as well as the addition of the database API to the
Open DSU framework, which, on its first run, creates a complicated DSU structure (which can sometimes take a long time
from a UI/UX perspective) led initially to long waits on webapps, often with frozen UI due to the intense processing happening.</p>
<p>This created the need for a more powerful, more configurable building process,
that could adapt to the individual needs of each SSApp</p>
<p>For that reason this module was refactored, exposing most of the OpenDSU Archive API via simple text commands,
that can be hardcoded into any SSApp and serve as its individual build script upon the creation of a new instance.</p>
<p>This concentrates all the heavy processing in a single execution, at a time where the UI is perfectly manageable,
and without any further inconveniences to the end user.</p>
<p>The build process rests on the concept of a source object, typically a source DSU, on which the commands will operate on.</p>
<p>for instance, the simple (original) build script for most SSApps in the PharmaLedger Ecosystem is:</p>
<pre>
    delete /
    addfolder code
    mount ../cardinal/seed /cardinal
    mount ../themes/#/seed /themes/#
</pre>
<p>(the cardinal represents an '*')</p>
<p>This simple build simples has with it, implicitly a sourceDSU that is the DSU just created using the credentials from the loader.</p>
<p>Explicitly the script would be:</p>
<pre>
    with createdsu wallet domain stringified_keygenargs
         delete /
         addfolder code
         mount ../cardinal/seed /cardinal
         mount ../themes/#/seed /themes/#
    endwith
</pre>
<p>in the with command it becomes apparent how to use the with command and the source DSU/Object.</p>
<p>This notion is imperative for more complex scripts like this:</p>
<pre>
    define $ID$ -$Identity-
    define $ENV$ -$Environment-

    with createdsu seed traceability specificstring
         define $SEED$ getidentifier
         createfile info $ID$
    endwith

    createfile environment.json $ENV$
    mount $SEED$ /id

    with $SEED$
         define $READ$ derive
    endwith

    define $SECRETS$ objtoarray $ID$

    with createdsu const traceability $SECRETS$
         mount $READ$ /id
         define $CONST$ getidentifier
    endwith

    mount $CONST$ /participant

    with createdsu seed traceability innerdb
         define $INNER$ getidentifier
    endwith

    with createdsu seed traceability fordb
         mount $INNER$ /data
         define $DB$ getidentifier
    endwith
    mount $DB$ /db
</pre>
<p>Notice the existence of 2 specific placeholders:</p>
<ul>
<li>-$Identity- : this placeholder will be replaced by the public parts the the loader credentials</li>
<li>-$Environment- : this placeholder will be replaced the the environment file contents from the loader</li>
</ul>
<p>Also notice how by using the with command we change the source object to be able to perform actions of them
and/or extract relevant information and store it in variables for later use.</p>
<p>To be able to achieve this level of control a Command Design Pattern was implemented providing access to the most common
OpenDSU APIs:</p>
<ul>
<li>addFile: <a href="AddFileCommand.html">AddFileCommand</a> - from OpenDSU's Archive API</li>
<li>addFolder: <a href="AddFolderCommand.html">AddFolderCommand</a> - from OpenDSU's Archive API</li>
<li>createDSU: <a href="CreateDSUCommand.html">CreateDSUCommand</a> - from OpenDSU's Resolver API</li>
<li>createFile: <a href="CreateFileCommand.html">CreateFileCommand</a> - from OpenDSU's Archive API</li>
<li>define: <a href="DefineCommand.html">DefineCommand</a> - functional Command</li>
<li>delete: <a href="DeleteCommand.html">DeleteCommand</a> - from OpenDSU's Archive API</li>
<li>derive: <a href="DeriveCommand.html">DeriveCommand</a> - from OpenDSU's KeySSI API</li>
<li>endWith: <a href="EndWithCommand.html">EndWithCommand</a> - functional Command</li>
<li>genDB: <a href="GenDBCommand.html">GenDBCommand</a> - functional Command</li>
<li>genKey: <a href="GenKeyCommand.html">GenKeyCommand</a> - from OpenDSU's KeySSI API</li>
<li>getIdentifier: <a href="GetIdentifierCommand.html">GetIdentifierCommand</a> - from OpenDSU's Archive|KeySSI API</li>
<li>mount: <a href="MountCommand.html">MountCommand</a> - from OpenDSU's Archive API</li>
<li>objToArray: <a href="ObjToArrayCommand.html">ObjToArrayCommand</a> - functional Command</li>
<li>readFile: <a href="ReadFileCommand.html">ReadFileCommand</a> - from OpenDSU's Archive API</li>
<li>with: WithCommand - functional Command</li>
</ul></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="services_dt_index.js.html" class="button">View Source</a>
            <span>
                <a href="services_dt_index.js.html">services/dt/index.js</a>, <a href="services_dt_index.js.html#line1">line 1</a>
            </span>
        </p>
    
</dl>


        
    
    </div>
    
    

    

    

    

    

    

    

    

    

    
</article>

</section>




            </div>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>

</body>
</html>